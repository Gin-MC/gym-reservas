<div class="login-container">
  <mat-card class="login-card">
    <mat-card-header>
      <mat-card-title class="login-title">
        <span class="logo">üèãÔ∏è AURA Fitness</span>
        <h2>Iniciar Sesi√≥n</h2>
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
        <!-- Email -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Email</mat-label>
          <input 
          matInput 
          type="email" 
          formControlName="email" 
          placeholder="tu-email@ejemplo.com"
          autocomplete="email">
          <mat-icon matPrefix>email</mat-icon>
          @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
            <mat-error>
              {{ getErrorMessage('email') }}
            </mat-error>
          }
        </mat-form-field>
        
        <!-- Password -->
        <mat-form-field appearance="outline" class="full-width">
          <mat-label>Contrase√±a</mat-label>
          <input 
          matInput 
          [type]="hidePassword ? 'password' : 'text'" 
          formControlName="password"
          placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
          autocomplete="current-password">
          <mat-icon matPrefix>lock</mat-icon>
          <button 
          mat-icon-button 
          matSuffix 
          type="button"
          (click)="hidePassword = !hidePassword">
          <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
          <mat-error>
            {{ getErrorMessage('password') }}
          </mat-error>
        }
        </mat-form-field>
      
        <!-- Error Message -->
        @if (errorMessage) {
          <div class="error-message">
            <mat-icon>error</mat-icon>
            {{ errorMessage }}
          </div>
        }
        
        <!-- Bot√≥n de Google -->
        <button 
        mat-raised-button 
        class="google-button"
        type="button"
        (click)="loginWithGoogle()"
        [disabled]="loadingGoogle">
        @if (loadingGoogle) {
          <mat-spinner diameter="20"></mat-spinner>
        }
        @if (!loadingGoogle) {
          <img src="https://img.icons8.com/color/512/google-logo.png" alt="Google" class="google-icon" width="18" height="18">
          <span>Continuar con Google</span>
        }
        </button>

        <mat-divider class="divider">
            <span class="divider-text"></span>
        </mat-divider>
        
        <!-- Submit Button -->
        <button 
        mat-raised-button 
        color="primary" 
        type="submit" 
        class="submit-button"
        [disabled]="loading">
        @if (loading) {
          <mat-spinner diameter="20"></mat-spinner>
        }
        @if (!loading) {
          <span>Ingresar</span>
        }
        </button>
    
        <!-- Register Link -->
        <div class="register-link">
          ¬øNo tienes cuenta? 
          <a routerLink="/register">Reg√≠strate aqu√≠</a>
        </div>
      </form>
    </mat-card-content>
  </mat-card>
</div>